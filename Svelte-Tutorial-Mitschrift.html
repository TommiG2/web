<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Thomas Gessl" />
  <title>Svelte-Tutorial v1.0</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Svelte-Tutorial v1.0</h1>
<p class="author">Thomas Gessl</p>
<p class="date">Jan 2024</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#über-dieses-dokument" id="toc-über-dieses-dokument">Über
dieses Dokument</a>
<ul>
<li><a href="#rechtliches" id="toc-rechtliches">Rechtliches</a></li>
</ul></li>
<li><a href="#teil-1-basic-svelte" id="toc-teil-1-basic-svelte">Teil 1:
Basic Svelte</a>
<ul>
<li><a href="#einleitung" id="toc-einleitung">Einleitung</a>
<ul>
<li><a href="#links" id="toc-links">Links</a></li>
<li><a href="#your-first-component-variablen-und-ausgabe"
id="toc-your-first-component-variablen-und-ausgabe">Your first component
/ Variablen und Ausgabe</a></li>
<li><a href="#dynamic-attributes" id="toc-dynamic-attributes">Dynamic
attributes</a></li>
<li><a href="#styling" id="toc-styling">Styling</a></li>
<li><a href="#nested-components-geschachtelte-importierte-komponenten"
id="toc-nested-components-geschachtelte-importierte-komponenten">Nested
components / Geschachtelte (importierte) Komponenten</a></li>
<li><a href="#html-tags" id="toc-html-tags">HTML tags</a></li>
</ul></li>
<li><a href="#reactivity" id="toc-reactivity">Reactivity</a>
<ul>
<li><a href="#assignments-zuweisungen"
id="toc-assignments-zuweisungen">Assignments / Zuweisungen</a></li>
<li><a href="#reactive-declarations"
id="toc-reactive-declarations">(Reactive) Declarations</a></li>
<li><a href="#reactive-statements" id="toc-reactive-statements">Reactive
Statements</a></li>
<li><a href="#updating-arrays-and-objects"
id="toc-updating-arrays-and-objects">Updating arrays (and objects)</a>
<ul>
<li><a href="#abhilfe-1-redundante-zuweisung"
id="toc-abhilfe-1-redundante-zuweisung">Abhilfe 1: Redundante
Zuweisung</a></li>
<li><a href="#abhilfe-2-funktion-als-zuweisung-umbauen"
id="toc-abhilfe-2-funktion-als-zuweisung-umbauen">Abhilfe 2: Funktion
als Zuweisung umbauen</a></li>
</ul></li>
</ul></li>
<li><a href="#props-eigenschaften" id="toc-props-eigenschaften">Props /
Eigenschaften</a>
<ul>
<li><a href="#declaring-props" id="toc-declaring-props">Declaring
props</a></li>
<li><a href="#default-values" id="toc-default-values">Default
values</a></li>
<li><a href="#spread-props-werte-auf-props-aufteilen"
id="toc-spread-props-werte-auf-props-aufteilen">Spread props / Werte auf
props aufteilen</a></li>
</ul></li>
<li><a href="#logic" id="toc-logic">Logic</a>
<ul>
<li><a href="#if-blocks" id="toc-if-blocks">if blocks</a></li>
<li><a href="#else-block" id="toc-else-block">Else block</a></li>
<li><a href="#else-if-blocks" id="toc-else-if-blocks">Else-if
blocks</a></li>
<li><a href="#each-blocks" id="toc-each-blocks">Each blocks</a></li>
<li><a href="#keyed-each-blocks" id="toc-keyed-each-blocks">Keyed each
blocks</a></li>
<li><a href="#await-blocks" id="toc-await-blocks">Await blocks</a></li>
</ul></li>
<li><a href="#events" id="toc-events">Events</a>
<ul>
<li><a href="#dom-events" id="toc-dom-events">DOM events</a></li>
<li><a href="#inline-handlers-eingebettete-anonyme-funktion"
id="toc-inline-handlers-eingebettete-anonyme-funktion">Inline handlers /
Eingebettete anonyme Funktion</a></li>
<li><a href="#event-modifiers" id="toc-event-modifiers">Event
modifiers</a></li>
<li><a href="#component-events" id="toc-component-events">Component
events</a></li>
<li><a href="#event-forwarding" id="toc-event-forwarding">Event
forwarding</a></li>
<li><a href="#dom-event-forwarding" id="toc-dom-event-forwarding">DOM
event forwarding</a></li>
</ul></li>
<li><a href="#bindings" id="toc-bindings">Bindings</a>
<ul>
<li><a href="#text-inputs" id="toc-text-inputs">Text inputs</a></li>
<li><a href="#numeric-inputs" id="toc-numeric-inputs">Numeric
inputs</a></li>
<li><a href="#checkbox-inputs" id="toc-checkbox-inputs">Checkbox
inputs</a></li>
<li><a href="#select-bindings" id="toc-select-bindings">Select
bindings</a></li>
<li><a href="#group-inputs-radios-und-checkboxen"
id="toc-group-inputs-radios-und-checkboxen">Group inputs / Radios und
Checkboxen</a>
<ul>
<li><a href="#beispiel-mit-radio-schaltflächen"
id="toc-beispiel-mit-radio-schaltflächen">Beispiel mit
Radio-Schaltflächen:</a></li>
<li><a href="#beispiel-mit-checkboxen"
id="toc-beispiel-mit-checkboxen">Beispiel mit Checkboxen:</a></li>
</ul></li>
<li><a href="#select-multiple-auswahllisten"
id="toc-select-multiple-auswahllisten">Select multiple /
Auswahllisten</a></li>
<li><a href="#textarea-inputs" id="toc-textarea-inputs">Textarea
inputs</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<p><a name="top"></a></p>
<style>
body { max-width: 45em }
H1,H2,H3,H4,H5,H6 { font-family:Verdana,Arial,Helvetica,sans-serif }
H1 { font-size:26px; margin-bottom:18px; font-weight:bold; color:blue;
         padding-left:3px;
         border-left-width:8px; border-left-style:solid; border-color:blue; border-bottom:solid thin blue; }
H2 { font-size:21px; font-weight:bold; margin-top:5px; margin-bottom:5px; color:blue }
H3 { font-size:18px; font-weight:bold; margin-top:5px; margin-bottom:5px }
H4 { font-size:16px; font-weight:bold }
H5 { font-size:16px }
H6 { font-size:13px }

p,ol,address,blockquote,nobr,td,th,li { font-family:Verdana,Arial,Helvetica,sans-serif; font-size:16px }

.sourceCode { background-color:#ebf3fa }
code        { background-color:#ebf3fa }
div.toTop   { text-align: right        }

A:link {color:#00729B; }
A:visited {color:#00729B; }
A:hover {color:red;}
</style>
<h1 id="über-dieses-dokument">Über dieses Dokument</h1>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Autor</td>
<td>Thomas Gessl</td>
</tr>
<tr class="even">
<td>EMail</td>
<td><a href="mailto:thomas.gessl@clubcomputer.at"
class="email">thomas.gessl@clubcomputer.at</a></td>
</tr>
<tr class="odd">
<td>Datum</td>
<td>Jan 2024</td>
</tr>
<tr class="even">
<td>Sprache</td>
<td>Deutsch</td>
</tr>
<tr class="odd">
<td>Copyright</td>
<td>(c) 2024 Thomas Gessl</td>
</tr>
<tr class="even">
<td>Web</td>
<td><a href="https://www.clubcomputer.at"
class="uri">https://www.clubcomputer.at</a></td>
</tr>
<tr class="odd">
<td>Version</td>
<td>1.0</td>
</tr>
<tr class="even">
<td>Abstract</td>
<td>Das ist meine Mitschrift für das im Internet angebotenen Tutorial
von Svelte <a href="https://learn.svelte.dev/tutorial"
class="uri">https://learn.svelte.dev/tutorial</a> zum Eigengebrauch bzw.
für interessierte Leser.</td>
</tr>
</tbody>
</table>
<p>Diese Mitschrift ist noch in Bearbeitung. Dh. mein Plan ist es,
dieses Dokument noch um weitere Kapitel zeitnah zu ergänzen.<br />
So sollte in Kürze der gesamte “Part 1: Basic Svelte” von
“LEARN.SVELTE.DEV” enthalten sein.<br />
Anschließend ist noch angedacht, zumindest “Part 3: Basic SveltKit”
abzudecken.<br />
Diese Mitschrift bezieht sich auf Svelte V5, da sich zum jetzigen
Zeitpunkt das Tutorial auf der Svelte-Webseite ebenfalls auf diese
Version bezieht.</p>
<p>Für Verbesserungsvorschläge, Danksagungen und konstruktive Kritik
kann man mich gerne per EMail an <a
href="mailto:thomas.gessl@clubcomputer.at"
class="email">thomas.gessl@clubcomputer.at</a> kontaktieren.</p>
<p>Destruktive Kritik richten Sie bitte an <a
href="mailto:trash@dontcontact.me"
class="email">trash@dontcontact.me</a></p>
<h2 id="rechtliches">Rechtliches</h2>
<blockquote>
<p>Kleingedrucktes: Die Weitergabe, das Kopieren und die
Vervielfältigung, auch in Teilen, ist bei Nennung des Copyrights
gestattet.<br />
Der Verkauf, Vermietung od. sonstige Monetarisierung ohne Zustimmung des
Autors ist jedoch untersagt.</p>
</blockquote>
<!--
https://github.com/marktext/marktext/blob/master/docs/MARKDOWN_SYNTAX.md

sudo apt-get update
sudo apt-get install texlive

pandoc runterladen, dann
sudo dpkg -i Downloads/pandoc-3.1.11.1-1-amd64.deb

pandoc togenas-austausch/DevDocs/Svelte-Tutorial-Mitschrift.md -s --toc=true --toc-depth=5 -o Desktop/Svelte-Tutorial-Mitschrift.html
-->
<h1 id="teil-1-basic-svelte">Teil 1: Basic Svelte</h1>
<h2 id="einleitung">Einleitung</h2>
<p>Svelte ist eine Softwarebibliothek zur Entwicklung von
JavaScript-Applikationen, um reaktive Webanwendungen erstellen zu
können.</p>
<h3 id="links">Links</h3>
<ul>
<li><a href="https://de.wikipedia.org/wiki/Svelte_(Framework)">Svelte in
Wikipedia</a></li>
<li><a href="https://learn.svelte.dev/tutorial">Tutorial auf der
offiziellen Svelte-Seite</a></li>
<li><a href="https://github.com/sveltejs/svelte">Svelte auf
GitHub</a></li>
<li><a href="https://www.clubcomputer.at">ClubComputer</a></li>
</ul>
<h3 id="your-first-component-variablen-und-ausgabe">Your first component
/ Variablen und Ausgabe</h3>
<p>Komponenten sind Dateien mit der Endung <code>.svelte</code>, die
JavaScript-Code (genauer: erweitertes JS), HTML und CSS beinhalten.</p>
<p>Beispiel: Deklaration und deren Ausgabe in einer Datei
<code>App.svelte</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> name <span class="op">=</span> <span class="st">&#39;Svelte&#39;</span><span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>h1<span class="op">&gt;</span>Hello {name}<span class="op">&lt;/</span>h1<span class="op">&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>style<span class="op">&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>style<span class="op">&gt;</span></span></code></pre></div>
<p>Innerhalb der {} kann beliebiger JS-Code vorkommen, zB
<code>name.toUpperCase()</code></p>
<p>Es gibt in JS 3 Arten wie Variablen deklariert werden können: + var
name = … Variable wird global vereinbart. Das macht oft Schwierigkeiten
+ const name = … Variable wird deklariert und ist danach nicht mehr
änderbar + let name = … lokale Variable. Das ist das, was man eigentlich
möchte</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="dynamic-attributes">Dynamic attributes</h3>
<p>Ein Attribut ist das, was nach dem Tag (Schlüsselwort) steht. zB:
&lt;img <strong>src</strong>=…&gt;<br />
So wie bei der Ausgabe können {} auch für Attribute innerhalb von
Elementattributen vorkommen.<br />
zB <code>&lt;img src={src} /&gt;</code></p>
<p>Wenn der vordere und hintere Teil gleich sind, kann man auch kürzer
schreiben:<br />
<code>&lt;img {src} \&gt;</code></p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="styling">Styling</h3>
<p>Style-Angaben sind prinzipiell nur auf die aktuelle Komponente
(component, Datei) bezogen und nicht auf importierte Komponenten.</p>
<p>Die geschweiften Klammern sind im Styleblock ein Teil der
Stylevorgaben und kein Svelte-Code.</p>
<p><em>Hinweis:</em> <code>font-size: 2em</code>: “em” hat den Vorteil,
dass es sich der Bildschirmauflösung anpasst.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="nested-components-geschachtelte-importierte-komponenten">Nested
components / Geschachtelte (importierte) Komponenten</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> Nested <span class="im">from</span> <span class="st">&#39;./Nested.svelte&#39;</span><span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span>This is a paragraph<span class="op">.&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>Nested <span class="op">/&gt;</span>     <span class="op">&lt;!--</span>  <span class="op">&lt;</span>p<span class="op">&gt;</span>nochein Absatz<span class="op">&lt;/</span>p<span class="op">&gt;</span> <span class="op">--&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>style<span class="op">&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    p {</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> goldenrod<span class="op">;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>style<span class="op">&gt;</span></span></code></pre></div>
<p>Der Style wird nur auf die aktuelle Komponente und nicht auf das
Importierte angewendet.</p>
<p><em>Hinweis:</em> Komponentenbezeichnungen fangen immer mit
Großbuchstaben an.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="html-tags">HTML tags</h3>
<p>Normalerweise wird in strings enthaltener Text nicht interpretiert
d.h. darin enthaltene HTML-tags bleiben normaler Text. Soll der
HTML-Interpreter das aber verarbeiten, muss man das mit einem eigenen
Bezeichner <code>@html</code> machen:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>zuvor<span class="op">:</span>  <span class="kw">let</span> <span class="kw">var</span> <span class="op">=</span> <span class="st">&#39;&lt;b&gt;Fehler!&lt;/b&gt;&#39;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>danach<span class="op">:</span> <span class="op">&lt;</span>p<span class="op">&gt;</span>Ausgabe<span class="op">:</span> {@html <span class="kw">var</span>}<span class="op">&lt;</span>\p<span class="op">&gt;</span></span></code></pre></div>
<blockquote>
<p><strong>Achtung:</strong> Der HTML-Code wird von Svelte nicht
geprüft, d.h. das ist bei eigenem Code normalerweise kein Problem. Dort,
wo aber Usereingaben oder Übernahme aus anderen Quellen passieren, muss
man selbst Vorkehrungen treffen!</p>
</blockquote>
<div class="toTop">
<a href="#top">^</a>
</div>
<hr />
<h2 id="reactivity">Reactivity</h2>
<h3 id="assignments-zuweisungen">Assignments / Zuweisungen</h3>
<p>Svelte beinhaltet ein “reactivity”-System, damit das angezeigte DOM
(document object model dh. die angezeigte Webseite) den
Anwendungszustand widerspiegelt und umgekehrt (z.B. Änderung durch
Benutzereingabe -&gt; event). Dafür gibt es event handler (siehe auch <a
href="#events">Events</a>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">increment</span>() {</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>button on<span class="op">:</span>click<span class="op">=</span>{increment}<span class="op">&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    Clicked {count}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>button<span class="op">&gt;</span></span></code></pre></div>
<p>Hier passieren 2 Dinge:<br />
Zuerst wird beim Anklicken der event handler <code>on:click</code>
angesprungen, der seinerseits die Funktion increment aufruft und damit
wird der Wert von <code>count</code> verändert.<br />
Zweitens erkennt Svelte, dass der veränderte Wert von count sich auf die
Anzeige von <code>&lt;button&gt;</code> auswirkt und rendert dieses
innere html. D.h. Svelte erkennt normalerweise selbständig, welcher Teil
des DOMs neu aktualisiert werden muss.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="reactive-declarations">(Reactive) Declarations</h3>
<p>Manchmal funktioniert diese Erkennung von zu ändernden Objekten nicht
automatisch, insbesondere wenn es gegenseitige Abhängigkeiten
gibt.<br />
Dazu gibt es eine “Zwischenschicht”: Zuerst wird der normale Code
ausgeführt, dann diese reaktiven Werte berechnet und letztlich das html
gerendert.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    $<span class="op">:</span> doubled <span class="op">=</span> count <span class="op">*</span> <span class="dv">2</span><span class="op">;</span>   <span class="op">&lt;-</span> reaktive Variable</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">increment</span>() {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>button on<span class="op">:</span>click<span class="op">=</span>{increment}<span class="op">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    Klick mich</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span>{count} doubled is {doubled}<span class="op">&lt;/</span>p<span class="op">&gt;</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="reactive-statements">Reactive Statements</h3>
<p>Man kann nicht nur Variable mit dem <code>$:</code> als reactive
markieren, sondern auch normalen Code (Einzeiler, eigene Codeblöcke oder
statement-Blöcke)</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>$<span class="op">:</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`the count is </span><span class="sc">${</span>count<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>$<span class="op">:</span> {</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`the count is </span><span class="sc">${</span>count<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`anything else...`</span>)<span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>$<span class="op">:</span> <span class="cf">if</span> (count <span class="op">&gt;=</span> <span class="dv">10</span>) {</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">alert</span>(<span class="st">&#39;count is dangerously high!&#39;</span>)<span class="op">;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<blockquote>
<p><em>Hinweis:</em> Hier sieht man, wie man für Fehlersuche und Tests
die Konsole verwenden kann.</p>
</blockquote>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="updating-arrays-and-objects">Updating arrays (and objects)</h3>
<p><em>Hinweis:</em> Folgendes wird mit Svelte v5 anders aussehen.<br />
</p>
<p>Sveltes automatische reactivity Erkennung funktioniert normalerweise
über Variablen-Zuweisung (<em>in html verwendete Variable hat sich
geändert -&gt; neuzeichnen</em>).<br />
Bei Funktionen die arrays betreffen
(<code>push|pop|shift|unshift|splice</code>), erkennt Svelte die
Änderung nicht automatisch.</p>
<h4 id="abhilfe-1-redundante-zuweisung">Abhilfe 1: Redundante
Zuweisung</h4>
<p>Redundante Zuweisung, die Svelte zeigt, dass sich was verändert
hat:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">addNumber</span>() {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    numbers<span class="op">.</span><span class="fu">push</span>(numbers<span class="op">.</span><span class="at">length</span> <span class="op">+</span> <span class="dv">1</span>)<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    numbers <span class="op">=</span> numbers<span class="op">;</span>   <span class="op">&lt;--</span> dient <span class="st">&quot;nur&quot;</span> der Erkennung</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 id="abhilfe-2-funktion-als-zuweisung-umbauen">Abhilfe 2: Funktion
als Zuweisung umbauen</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">addNumber</span>() {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    numbers <span class="op">=</span> [<span class="op">...</span>numbers<span class="op">,</span> numbers<span class="op">.</span><span class="at">length</span> <span class="op">+</span> <span class="dv">1</span>]<span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><em>Hinweis:</em> Zuweisungen zu einzelnen Elementen von Arrays und
Objekten funktionieren jedoch genauso automatisch, wie Zuweisungen zu
einfachen Variablen.</p>
<p><strong>Regel:</strong> Wenn die Variable auf der linken Seite
vorkommt, so funktioniert es automatisch.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<hr />
<h2 id="props-eigenschaften">Props / Eigenschaften</h2>
<h3 id="declaring-props">Declaring props</h3>
<p>Bisher waren Werte nur innerhalb der Komponente(Datei) zugänglich. Um
sie auch auch in anderen Komponenten verwenden zu können, nutzt man das
keyword <code>export</code>. Solche Werte nennt man dann “properties”
oder kurz “props”.<br />
Dabei wird die Property ähnlich wie in anderen Sprachen als Parameter
für Funktionsaufrufe verwendet (genauer: änderbare Parameter bzw.
Variablen-Parameter).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Nested.svelte</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">let</span> answer<span class="op">;</span>          <span class="co">// Deklaration der Variablen (prop)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span>Die Antwort ist {answer}<span class="op">&lt;/</span>p<span class="op">&gt;</span> <span class="co">// Der Wert der prop wird ausgegeben</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">//--------------------------------------</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">// App.svelte</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> Nested <span class="im">from</span> <span class="st">&#39;./Nested.svelte&#39;</span><span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>Nested answer<span class="op">=</span>{<span class="dv">42</span>} <span class="op">/&gt;</span>         <span class="co">// Hier wird der Wert zugewiesen</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                               <span class="co">// und das HTML von Nested abgearbeitet</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="default-values">Default values</h3>
<p>Man kann props natürlich auf Ursprungswerte setzen, die verwendet
werden, wenn sonst keine Änderung statt findet.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Nested.svelte</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">let</span> answer <span class="op">=</span> <span class="st">&#39;ein Wunder&#39;</span><span class="op">;</span> <span class="co">// Deklaration der Variablen (prop)</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span>Die Antwort ist {answer}<span class="op">&lt;/</span>p<span class="op">&gt;</span>       <span class="co">// Der Wert der prop wird ausgegeben</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">//--------------------------------------</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">// App.svelte</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> Nested <span class="im">from</span> <span class="st">&#39;./Nested.svelte&#39;</span><span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>Nested answer<span class="op">=</span>{<span class="dv">42</span>} <span class="op">/&gt;</span>      <span class="co">// Nested wird 2 mal aufgerufen. Mit und</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>Nested <span class="op">/&gt;</span>                  <span class="co">// ohne Änderung</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">//--------------------------------------</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">// Ergebnis:</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">// Die Antwort ist 42</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">// Die Antwort ist ein Wunder</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="spread-props-werte-auf-props-aufteilen">Spread props / Werte auf
props aufteilen</h3>
<p>Beispiel: Es gibt eine Reihe von props, die von
<code>PackageInfo.svelte</code> erwartet werden.<br />
Annahme, dass es bereits ein JSON-Objekt gibt, das nun an PackageInfo
übergeben werden muss.<br />
Variante 1 weist die einzelnen Werte händisch zu (mit der Gefahr etwas
zu vergesssen)<br />
Variante 2 “verteilt” (spreading) die Werte automatisch (nach Name, aber
nicht nach Position)</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">// PackageInfo.svelte</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">let</span> name<span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">let</span> version<span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">let</span> speed<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">let</span> website<span class="op">;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    $<span class="op">:</span> href <span class="op">=</span> <span class="vs">`https://www.npmjs.com/package/</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span>Die Werte sind<span class="op">:</span> {name}<span class="op">,</span> {version}<span class="op">,</span> {speed}<span class="op">,</span> {website}<span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">// App.svelte</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> PackageInfo <span class="im">from</span> <span class="st">&#39;./PackageInfo.svelte&#39;</span><span class="op">;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> pkg <span class="op">=</span> {              <span class="co">// hier gibt es das JSON mit</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;svelte&#39;</span><span class="op">,</span>        <span class="co">// den gewünschten Werten</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">speed</span><span class="op">:</span> <span class="st">&#39;blazing&#39;</span><span class="op">,</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">version</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">website</span><span class="op">:</span> <span class="st">&#39;https://svelte.dev&#39;</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>PackageInfo                    <span class="co">// Variante 1: händische Zuweisung</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span>{pkg<span class="op">.</span><span class="at">name</span>}</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    speed<span class="op">=</span>{pkg<span class="op">.</span><span class="at">speed</span>}</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    website<span class="op">=</span>{pkg<span class="op">.</span><span class="at">website</span>}       <span class="co">// zB &quot;version&quot; vergessen</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="op">/&gt;</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>PackageInfo {<span class="op">...</span>pkg} <span class="op">/&gt;</span>        <span class="co">// Variante 2: autom. spreading</span></span></code></pre></div>
<!-- ToDo $$props ??? -->
<div class="toTop">
<a href="#top">^</a>
</div>
<hr />
<h2 id="logic">Logic</h2>
<h3 id="if-blocks">if blocks</h3>
<p>In HTML gibt es keine Möglichkeiten um logische Abläufe zu erstellen.
In Svelte jedoch schon.<br />
Um HTML-Teile in Abhängigkeit von einem Wert ausgeben zu lassen,
verwendet man einen if-Block:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>{#if count <span class="op">&gt;</span> <span class="dv">10</span>}</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>{count} ist größer als <span class="dv">10</span><span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/if}</span></span></code></pre></div>
<h3 id="else-block">Else block</h3>
<p>Wie in anderen Programmiersprachen, gibt es auch einen
else-Zweig:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>{#if count <span class="op">&gt;</span> <span class="dv">10</span>}</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>{count} ist größer als <span class="dv">10</span><span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>{<span class="op">:</span><span class="cf">else</span>}</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>{count} liegt zwischen <span class="dv">0</span> und <span class="dv">10</span><span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/if}</span></span></code></pre></div>
<ul>
<li>Ein ‘#’ ist das Block-Öffnen-Zeichen zB <code>#if</code></li>
<li>Mit ‘/’ wird der Block geschlossen zB <code>/if</code></li>
<li>Das Zeichen ‘:’ zeigt, dass der Block fortgesetzt wird zB
<code>:else</code></li>
</ul>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="else-if-blocks">Else-if blocks</h3>
<p>Das ist jetzt keine Überraschung: Für mehrere Abfragen
hintereinander, verwendet man folgendes Konstrukt:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>{#if count <span class="op">&gt;</span> <span class="dv">10</span>}</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>{count} ist größer als <span class="dv">10</span><span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>{<span class="op">:</span><span class="cf">else</span> <span class="cf">if</span> count <span class="op">&lt;</span> <span class="dv">5</span>}</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>{count} ist kleiner als <span class="dv">5</span><span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>{<span class="op">:</span><span class="cf">else</span>}</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>{count} liegt zwischen <span class="dv">5</span> und <span class="dv">10</span><span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/if}</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="each-blocks">Each blocks</h3>
<p>Der each-Block wird meist verwendet, wenn das UI abhängig von einer
variablen Anzahl von Daten (zB Array) dargestellt werden soll.</p>
<p>Beispiel: Zeichne eine Reihe bunter Buttons, abhängig von einem Array
‘colors’:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>   <span class="kw">const</span> colors <span class="op">=</span> [<span class="st">&#39;red&#39;</span><span class="op">,</span> <span class="st">&#39;orange&#39;</span><span class="op">,</span> <span class="st">&#39;yellow&#39;</span><span class="op">,</span> <span class="st">&#39;green&#39;</span><span class="op">,</span> <span class="st">&#39;blue&#39;</span><span class="op">,</span> <span class="st">&#39;indigo&#39;</span><span class="op">,</span> <span class="st">&#39;violet&#39;</span>]<span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>div<span class="op">&gt;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    {#each colors <span class="im">as</span> color}</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>button</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>            aria<span class="op">-</span>current<span class="op">=</span>{selected <span class="op">===</span> color}</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>            aria<span class="op">-</span>label<span class="op">=</span>{color}</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>            style<span class="op">=</span><span class="st">&quot;background: {color}&quot;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>            on<span class="op">:</span>click<span class="op">=</span>{() <span class="kw">=&gt;</span> selected <span class="op">=</span> color}</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">&gt;</span>Name<span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    {<span class="ss">/each}</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;/div</span><span class="op">&gt;</span></span></code></pre></div>
<blockquote>
<p><em>Hinweis:</em> Die Angaben die mit ‘aria’ beginnen, sind
Beschreibungen, die für sehschwache Personen gedacht sind.</p>
</blockquote>
<p>Als zweiten Parameter kann man noch eine Variable eintragen, die dann
als Zähler bzw. als Index verwendet wird:<br />
<code>{#each colors as color, i}</code> kann zB zur Beschriftung<br />
<code>&lt;button .... &gt;{i+1}&lt;/button&gt;</code> statt “Name”
verwendet werden.<br />
<strong>Hinweis:</strong> Der Zähler fängt bei 0 an, daher wird hier
<code>i+1</code> verwendet.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="keyed-each-blocks">Keyed each blocks</h3>
<p>Normalerweise werden beim Verändern von each-Blöcken (Hinzufügen,
Entfernen, etc.) immer nur die hinteren Einträge verändert. Um einzelne
Einträge aus der Mitte manipulieren zu können, verwendet man einen
eindeutigen Schlüssel (key, unique identifier).</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>{#each things <span class="im">as</span> <span class="fu">thing</span> (thing<span class="op">.</span><span class="at">id</span>)}</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>Thing name<span class="op">=</span>{thing<span class="op">.</span><span class="at">name</span>} <span class="op">/&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/each}</span></span></code></pre></div>
<p>Es wird zusätzlich ein Parameter (hier “thing.id”) hinzugefügt, der
die einzelnen Einträge besser identifizieren kann.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="await-blocks">Await blocks</h3>
<p>Bei den meisten Web-Applikationen muss man sich irgendwann mit
asynchronen Datenaustausch beschäftigen.<br />
Svelte macht es einfach, direkt in das HTML Wartecode für <a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises">promises</a>
einzutragen.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> { getRandomNumber } <span class="im">from</span> <span class="st">&#39;./utils.js&#39;</span><span class="op">;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> promise <span class="op">=</span> <span class="fu">getRandomNumber</span>()<span class="op">;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>button on<span class="op">:</span>click<span class="op">=</span>{()<span class="kw">=&gt;</span> {promise <span class="op">=</span> <span class="fu">getRandomNumber</span>()<span class="op">;</span>}}<span class="op">&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    generate random number</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>button<span class="op">&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>{#await promise}</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;...</span>waiting<span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>{<span class="op">:</span>then number}</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>The number is {number}<span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>{<span class="op">:</span><span class="cf">catch</span> error}</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p style<span class="op">=</span><span class="st">&quot;color: red&quot;</span><span class="op">&gt;</span>{error<span class="op">.</span><span class="at">message</span>}<span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/await}</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<hr />
<h2 id="events">Events</h2>
<h3 id="dom-events">DOM events</h3>
<p>Wie man vorhin schon gesehen hat, kann auf jedes DOM-Ereignis eines
Objektes reagiert werden. Dazu wird <code>on:</code> verwendet:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> m <span class="op">=</span> { <span class="dt">x</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">0</span> }<span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">handleMove</span>(<span class="bu">event</span>) {</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>        m<span class="op">.</span><span class="at">x</span> <span class="op">=</span> <span class="bu">event</span><span class="op">.</span><span class="at">clientX</span><span class="op">;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>        m<span class="op">.</span><span class="at">y</span> <span class="op">=</span> <span class="bu">event</span><span class="op">.</span><span class="at">clientY</span><span class="op">;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>div on<span class="op">:</span>pointermove<span class="op">=</span>{handleMove}<span class="op">&gt;</span>   <span class="co">// wenn der Event pointermove auftritt,</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                                <span class="co">// wird die Funktion handleMove ausgeführt</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    Die Maus zeigt auf {m<span class="op">.</span><span class="at">x</span>} <span class="ss">/ {m.y}    // und das Ergebnis ausgegeben.</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;/div</span><span class="op">&gt;</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="inline-handlers-eingebettete-anonyme-funktion">Inline handlers /
Eingebettete anonyme Funktion</h3>
<p>Wenn die Eventhandler-Funktion eher einfach ist, kann man sie auch
kürzer als sogen. “Lambda-Funktion” (d.h. anonyme Funktion)
eintragen:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>div</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    on<span class="op">:</span>pointermove<span class="op">=</span>{(<span class="bu">event</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        m <span class="op">=</span> { <span class="dt">x</span><span class="op">:</span> <span class="bu">event</span><span class="op">.</span><span class="at">clientX</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="bu">event</span><span class="op">.</span><span class="at">clientY</span> }<span class="op">;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    }}</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    Die Maus zeigt auf {m<span class="op">.</span><span class="at">x</span>} <span class="ss">/ {m.y}</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;/div</span><span class="op">&gt;</span></span></code></pre></div>
<p>In einigen Programmiersprachen wird auf die Performancenachteile
hingewiesen, die solche Sprachkonstrukte oft aufweisen. Bei Svelte ist
das allerdings nicht so, da der Svelte-Compiler (Übersetzer) darauf
Rücksicht nimmt.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="event-modifiers">Event modifiers</h3>
<p>DOM-Eventhandler können mit sogenannten “Modifiers” gekennzeichnet
werden, die das Verhalten beinflussen.<br />
Beispiel: hier wird <code>|once</code> verwendet, damit der handler nur
einmalig aufgerufen wird:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>button on<span class="op">:</span>click<span class="op">|</span>once<span class="op">=</span>{() <span class="kw">=&gt;</span> <span class="fu">alert</span>(<span class="st">&#39;clicked&#39;</span>)}<span class="op">&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    Click me</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>button<span class="op">&gt;</span></span></code></pre></div>
<p>Folgende modifier können verwendet werden:</p>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="header">
<th>modifier</th>
<th>Zweck</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>preventDefault</td>
<td>Wird zB für client-seitige Formularverarbeitung verwendet</td>
</tr>
<tr class="even">
<td>stopPropagation</td>
<td>Verhindert die Weiterleitung an das nächste Element</td>
</tr>
<tr class="odd">
<td>passive</td>
<td>Verbessert das Scrolling (wird meist von Svelte selbst
erledigt)</td>
</tr>
<tr class="even">
<td>nonpassive</td>
<td>setzt <code>passive: false</code></td>
</tr>
<tr class="odd">
<td>capture</td>
<td>starte schon während der “capture”, statt der “bubbling”-Phase</td>
</tr>
<tr class="even">
<td>once</td>
<td>entfernt den handler nach dem ersten Aufruf</td>
</tr>
<tr class="odd">
<td>self</td>
<td>Aufruf nur wenn das <code>event.target</code> auf das Element
zeigt</td>
</tr>
<tr class="even">
<td>trusted</td>
<td>Aufruf nur wenn der Event vom User ist (nicht von Code erzeugt)</td>
</tr>
</tbody>
</table>
<p>Mehrere modifier können hintereinander kombiniert werden:<br />
<code>on:click|once|capture={...}</code></p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="component-events">Component events</h3>
<blockquote>
<p><strong>ToDo</strong></p>
</blockquote>
<h3 id="event-forwarding">Event forwarding</h3>
<blockquote>
<p><strong>ToDo</strong></p>
</blockquote>
<h3 id="dom-event-forwarding">DOM event forwarding</h3>
<blockquote>
<p><strong>ToDo</strong></p>
</blockquote>
<div class="toTop">
<a href="#top">^</a>
</div>
<hr />
<h2 id="bindings">Bindings</h2>
<h3 id="text-inputs">Text inputs</h3>
<p>Normalerweise erfolgt der Datenfluss in Svelte von oben nach untern.
D.h. eine Elternkomponente kann props einer Kinderkomponente setzen und
eine Komponente kann die Attribute eines (DOM-)Elements setzen, aber
nicht umgekehrt.</p>
<p>Manchmal ist es aber nötig, diese Regel zu umgehen. Beispiel: Ein
Eingabefeld, dessen Wert in eine Variable geschrieben wird, die wiederum
in einer Ausgabe verwendet wird:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> name <span class="op">=</span> <span class="st">&#39;world&#39;</span><span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>input value<span class="op">=</span>{name} <span class="op">/&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>h1<span class="op">&gt;</span>Hello {name}<span class="op">!&lt;/</span>h1<span class="op">&gt;</span></span></code></pre></div>
<p>Man könnte jetzt natürlich einen event handler <code>on:input</code>
schreiben, der beim Ändern des Textfeldes die Variable <code>name</code>
verändert.<br />
Besser ist es allerdings, die beiden Dinge (Textfeld “input” und die
Variable “name”) miteinander zu verknüpfen. Das hat den Vorteil, dass
Änderungen in beide Richtungen funktionieren.</p>
<p><code>&lt;input bind:value={name}&gt;</code></p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="numeric-inputs">Numeric inputs</h3>
<p>In DOM werden alle Daten als strings behandelt. Wenn wir aber
Eingabefelder mit numerischen Werten benötigen
(<code>type="number"</code> oder <code>type="range"</code>) dürfen wir
nicht vergessen, diese strings (<code>input.value</code>) in numerische
Werte umzuwandeln. Glücklicherweise nimmt Svelte uns diese Arbeit mit
<code>bind:value</code> ab:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> a <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>label<span class="op">&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>input type<span class="op">=</span><span class="st">&quot;number&quot;</span> bind<span class="op">:</span>value<span class="op">=</span>{a} min<span class="op">=</span><span class="st">&quot;0&quot;</span> max<span class="op">=</span><span class="st">&quot;10&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>input type<span class="op">=</span><span class="st">&quot;range&quot;</span> bind<span class="op">:</span>value<span class="op">=</span>{a} min<span class="op">=</span><span class="st">&quot;0&quot;</span> max<span class="op">=</span><span class="st">&quot;10&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span>{a}<span class="op">&lt;/</span>p<span class="op">&gt;</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="checkbox-inputs">Checkbox inputs</h3>
<p>Mit checkboxen wird zwischen 2 Zuständen umgeschaltet.<br />
Hier verwenden wir das binding <code>bind:checked</code> (statt
<em>bind.value</em>)</p>
<p><code>&lt;input type="checkbox" bind:checked={bVal}&gt;</code></p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="select-bindings">Select bindings</h3>
<p>Auch <code>&lt;select&gt;</code>-Elemente können mit
<code>bind:value</code> verknüpft werden.</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>select</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    bind<span class="op">:</span>value<span class="op">=</span>{selected}</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    on<span class="op">:</span>change<span class="op">=</span>{() <span class="kw">=&gt;</span> answer <span class="op">=</span> <span class="st">&#39;&#39;</span>}</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="group-inputs-radios-und-checkboxen">Group inputs / Radios und
Checkboxen</h3>
<p>Oft werden mehrere Eingabefelder mit dem gleichen Wert verknüpft (zB.
bei einer Auswahl mittels radio-Schaltflächen oder Checkboxen). Hierfür
verwendet man <code>bind:group</code></p>
<p>Bei Radios wird man als Ergebnis genau einen Wert erhalten (striktes
Oder).<br />
Bei Checkboxen arbeitet man normalerweise mit einem array, das als
Ergebnis eine beliebige Kombination der Möglichkeiten liefert.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
<h4 id="beispiel-mit-radio-schaltflächen">Beispiel mit
Radio-Schaltflächen:</h4>
<div class="sourceCode" id="cb24"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> sErgebnis <span class="op">=</span> <span class="st">&#39;eins&#39;</span><span class="op">;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>{#each [<span class="st">&#39;eins&#39;</span><span class="op">,</span> <span class="st">&#39;zwei&#39;</span><span class="op">,</span> <span class="st">&#39;drei&#39;</span>] <span class="im">as</span> sNum}</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>label<span class="op">&gt;</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>input</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>            type<span class="op">=</span><span class="st">&quot;radio&quot;</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="st">&quot;Zahl&quot;</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>            value<span class="op">=</span>{sNum}</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>            bind<span class="op">:</span>group<span class="op">=</span>{sErgebnis}</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">/&gt;</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>        {sNum}</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/each}</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;p&gt;Gewählt: {sErgebnis}&lt;/p</span><span class="op">&gt;</span>     <span class="co">// zB Gewählt: zwei</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h4 id="beispiel-mit-checkboxen">Beispiel mit Checkboxen:</h4>
<div class="sourceCode" id="cb25"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> aErgebnis <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> formatter <span class="op">=</span> <span class="kw">new</span> <span class="bu">Intl</span><span class="op">.</span><span class="fu">ListFormat</span>(<span class="st">&#39;de&#39;</span><span class="op">,</span> { <span class="dt">style</span><span class="op">:</span> <span class="st">&#39;long&#39;</span><span class="op">,</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>                                                  <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;conjunction&#39;</span> })<span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>{#each [<span class="st">&#39;rot&#39;</span><span class="op">,</span> <span class="st">&#39;grün&#39;</span><span class="op">,</span> <span class="st">&#39;blau&#39;</span>] <span class="im">as</span> sFarbe}</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>label<span class="op">&gt;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>input</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>            type<span class="op">=</span><span class="st">&quot;checkbox&quot;</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="st">&quot;Farbe&quot;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>            value<span class="op">=</span>{sFarbe}</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>            bind<span class="op">:</span>group<span class="op">=</span>{aErgebnis}</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">/&gt;</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>        {sFarbe}</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/</span>label<span class="op">&gt;</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>{<span class="ss">/each}</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;p&gt;Gewählt: {formatter.format</span><span class="sc">(</span><span class="ss">aErgebnis</span><span class="sc">)</span><span class="ss">}&lt;/p</span><span class="op">&gt;</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>                <span class="co">// zB Gewählt: grün und blau</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="select-multiple-auswahllisten">Select multiple /
Auswahllisten</h3>
<p>Ähnlich wie mehrere zusammengehörige Checkboxen, arbeiten
Auswahllisten, wenn sie das <code>multiple</code>-Attribute besitzen
(ansonsten eher wie Radio-Schaltflächen).</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> aErgebnis <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> formatter <span class="op">=</span> <span class="kw">new</span> <span class="bu">Intl</span><span class="op">.</span><span class="fu">ListFormat</span>(<span class="st">&#39;de&#39;</span><span class="op">,</span> { <span class="dt">style</span><span class="op">:</span> <span class="st">&#39;long&#39;</span><span class="op">,</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                                                  <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;conjunction&#39;</span> })<span class="op">;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>select multiple bind<span class="op">:</span>value<span class="op">=</span>{aErgebnis}<span class="op">&gt;</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    {#each [<span class="st">&#39;rot&#39;</span><span class="op">,</span> <span class="st">&#39;grün&#39;</span><span class="op">,</span> <span class="st">&#39;blau&#39;</span>] <span class="im">as</span> sFarbe}</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>option<span class="op">&gt;</span>{sFarbe}<span class="op">&lt;/</span>option<span class="op">&gt;</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    {<span class="ss">/each}</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;/select</span><span class="op">&gt;</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span><span class="dt">Gewählt</span><span class="op">:</span> {formatter<span class="op">.</span><span class="fu">format</span>(aErgebnis)}<span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>                <span class="co">// zB Gewählt: grün und blau</span></span></code></pre></div>
<div class="toTop">
<a href="#top">^</a>
</div>
<h3 id="textarea-inputs">Textarea inputs</h3>
<p>Textfelder funktionieren ebenfalls mit <code>bind:value</code>.</p>
<p><code>&lt;textarea bind:value={value}&gt;&lt;/textarea&gt;</code></p>
<p><em>Hinweis:</em> <strong>Kompaktschreibweise</strong><br />
Wenn, wie in diesem Fall, die Bezeichnungen übereinstimmen
(<code>value={value}</code>), dann kann man das auch kürzer schreiben:
<code>&lt;textarea bind:value&gt;&lt;/textarea&gt;</code>.<br />
Diese Kurzform funktioniert bei allen bindings, nicht nur mit
textareas.</p>
<div class="toTop">
<a href="#top">^</a>
</div>
</body>
</html>
